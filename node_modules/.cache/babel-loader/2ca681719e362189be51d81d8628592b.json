{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Asus\\\\Desktop\\\\DNK-SIH\\\\dnk-booking-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\DNK-SIH\\\\dnk-booking-app\\\\src\\\\components\\\\BulkUpload.js\";\nimport React, { useState } from 'react';\nvar BulkUpload = function BulkUpload() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    jsonContent = _useState2[0],\n    setJsonContent = _useState2[1];\n  var handleFileUpload = function handleFileUpload(event) {\n    var file = event.target.files[0];\n    var reader = new FileReader();\n    reader.onload = function (e) {\n      var content = e.target.result;\n      var jsonData = csvToJson(content);\n      setJsonContent(jsonData);\n    };\n    reader.readAsText(file);\n  };\n  var csvToJson = function csvToJson(csv) {\n    var lines = csv.split('\\n');\n    var result = [];\n    var headers = lines[0].split(',');\n    for (var i = 1; i < lines.length; i++) {\n      var data = lines[i].split(',');\n\n      // Remove \\r and \\r\\n from the last field\n      var lastFieldIndex = headers.length - 1;\n      data[lastFieldIndex] = data[lastFieldIndex].replace(/\\r/g, '');\n      var obj = {};\n      for (var j = 0; j < headers.length; j++) {\n        obj[headers[j]] = data[j];\n      }\n      result.push(obj);\n    }\n    return JSON.stringify(result, null, 2);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \".csv\",\n    onChange: handleFileUpload,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"pre\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, jsonContent)));\n};\nexport default BulkUpload;","map":{"version":3,"names":["React","useState","BulkUpload","_useState","_useState2","_slicedToArray","jsonContent","setJsonContent","handleFileUpload","event","file","target","files","reader","FileReader","onload","e","content","result","jsonData","csvToJson","readAsText","csv","lines","split","headers","i","length","data","lastFieldIndex","replace","obj","j","push","JSON","stringify","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange"],"sources":["C:/Users/Asus/Desktop/DNK-SIH/dnk-booking-app/src/components/BulkUpload.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst BulkUpload = () => {\r\n  const [jsonContent, setJsonContent] = useState(null);\r\n\r\n  const handleFileUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = (e) => {\r\n      const content = e.target.result;\r\n      const jsonData = csvToJson(content);\r\n      setJsonContent(jsonData);\r\n    };\r\n\r\n    reader.readAsText(file);\r\n  };\r\n\r\n  const csvToJson = (csv) => {\r\n    const lines = csv.split('\\n');\r\n    const result = [];\r\n  \r\n    const headers = lines[0].split(',');\r\n  \r\n    for (let i = 1; i < lines.length; i++) {\r\n      const data = lines[i].split(',');\r\n  \r\n      // Remove \\r and \\r\\n from the last field\r\n      const lastFieldIndex = headers.length - 1;\r\n      data[lastFieldIndex] = data[lastFieldIndex].replace(/\\r/g, '');\r\n  \r\n      const obj = {};\r\n  \r\n      for (let j = 0; j < headers.length; j++) {\r\n        obj[headers[j]] = data[j];\r\n      }\r\n  \r\n      result.push(obj);\r\n    }\r\n  \r\n    return JSON.stringify(result, null, 2);\r\n  };\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <input type=\"file\" accept=\".csv\" onChange={handleFileUpload} />\r\n      <div>\r\n        <pre>{jsonContent}</pre>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BulkUpload;\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;EAAA,IAAAC,SAAA,GACeF,QAAQ,CAAC,IAAI,CAAC;IAAAG,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA7CG,WAAW,GAAAF,UAAA;IAAEG,cAAc,GAAAH,UAAA;EAElC,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,KAAK,EAAK;IAClC,IAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClC,IAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAE/BD,MAAM,CAACE,MAAM,GAAG,UAACC,CAAC,EAAK;MACrB,IAAMC,OAAO,GAAGD,CAAC,CAACL,MAAM,CAACO,MAAM;MAC/B,IAAMC,QAAQ,GAAGC,SAAS,CAACH,OAAO,CAAC;MACnCV,cAAc,CAACY,QAAQ,CAAC;IAC1B,CAAC;IAEDN,MAAM,CAACQ,UAAU,CAACX,IAAI,CAAC;EACzB,CAAC;EAED,IAAMU,SAAS,GAAG,SAAZA,SAASA,CAAIE,GAAG,EAAK;IACzB,IAAMC,KAAK,GAAGD,GAAG,CAACE,KAAK,CAAC,IAAI,CAAC;IAC7B,IAAMN,MAAM,GAAG,EAAE;IAEjB,IAAMO,OAAO,GAAGF,KAAK,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC;IAEnC,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,KAAK,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;MACrC,IAAME,IAAI,GAAGL,KAAK,CAACG,CAAC,CAAC,CAACF,KAAK,CAAC,GAAG,CAAC;;MAEhC;MACA,IAAMK,cAAc,GAAGJ,OAAO,CAACE,MAAM,GAAG,CAAC;MACzCC,IAAI,CAACC,cAAc,CAAC,GAAGD,IAAI,CAACC,cAAc,CAAC,CAACC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;MAE9D,IAAMC,GAAG,GAAG,CAAC,CAAC;MAEd,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,OAAO,CAACE,MAAM,EAAEK,CAAC,EAAE,EAAE;QACvCD,GAAG,CAACN,OAAO,CAACO,CAAC,CAAC,CAAC,GAAGJ,IAAI,CAACI,CAAC,CAAC;MAC3B;MAEAd,MAAM,CAACe,IAAI,CAACF,GAAG,CAAC;IAClB;IAEA,OAAOG,IAAI,CAACC,SAAS,CAACjB,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;EACxC,CAAC;EAGD,oBACElB,KAAA,CAAAoC,aAAA;IAAAC,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACE3C,KAAA,CAAAoC,aAAA;IAAOQ,IAAI,EAAC,MAAM;IAACC,MAAM,EAAC,MAAM;IAACC,QAAQ,EAAEtC,gBAAiB;IAAA6B,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC/D3C,KAAA,CAAAoC,aAAA;IAAAC,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACE3C,KAAA,CAAAoC,aAAA;IAAAC,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAMrC,WAAiB,CACpB,CACF,CAAC;AAEV,CAAC;AAED,eAAeJ,UAAU"},"metadata":{},"sourceType":"module"}